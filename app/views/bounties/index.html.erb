<% title "Bounties", @product.name %>
<% activate_nav! :bounties %>
<%= track 'product.wips.viewed', ProductAnalyticsSerializer.new(@product) %>

<%= react_component 'BountyIndex', {
  initialBounties: @product.tasks.page(1).map { |t| BountySerializer.new(t) },
  initialFilters: [{ type: 'state', name: 'Open', value: 'open' }, { type: 'order', name: 'Priority', value: 'priority' }],
  tags: Wip::Tag.suggested_tags,
  creators: User.joins(:wips).where(wips: { type: 'Task', product_id: @product }).uniq.order('username ASC').map { |u| UserSerializer.new(u) },
  workers: User.joins(wip_workers: :wip).where(wips: { type: 'Task', product_id: @product }).uniq.order('username ASC').map { |u| UserSerializer.new(u) },
  product: ProductSerializer.new(@product),
  pages: @product.tasks.page(1).total_pages
} %>
