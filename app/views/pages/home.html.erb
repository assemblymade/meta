<% title 'Built together' %>
<%= track_engaged 'home' %>
<% provide(:description, "A new way for people around the world to collectively build, launch, and grow startups") %>

<%= render 'shared/navbar' %>

<% showcase = @showcases.find {|s| s.slug == params[:showcase]} %>

<%= react_component 'HomePage',
      search: params[:search],
      filter: params[:filter] || 'trending',
      page: [params[:page].to_i, 1].max,
      topic: params[:topic],
      showcase: (showcase.nil? ? nil : ShowcaseSerializer.new(showcase) ),
      total_pages: @total_pages,
      topics: @topics,
      showcases: @showcases.map {|s| ShowcaseSerializer.new(s) }
%>

<%= render 'shared/footer' %>
